<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LISTA DE ORADORES</title>
    <link rel="stylesheet" href="./TPintegrador1LozanoArnaldo.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <!--navBar-->
    <nav class="navbar fixed-top navbar-expand-lg container-fluid navbar-dark bg-secondary">
        <div class="container">
               <a class="navbar-brand" href="./index.html">
                <img src="./Imagenes/codoacodo.png" alt="Logo" Width="60" height="40" class="d-inline-block align-text-center">
                Conf Bs As
               </a>
               <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                   <span class="navbar-toggler-icon"></span>
               </button>
               
               <div class="collapse navbar-collapse" id="navbarSupportedContent" >
                   <ul class="navbar-nav ms-auto">
                       <li class="nav-item">
                           <a class="nav-link active" aria-current="page" href="#">La Conferencia</a>
                       </li>
                       <li class="nav-item">
                          <a class="nav-link" href="./listaoradores.html">Los Oradores</a>
                        </li>
                       <li class="nav-item">
                         <a class="nav-link" href="#">El lugar y la fecha </a>
                       </li>
                       <li class="nav-item">
                           <a class="nav-link" href="./nuevoorador.html">Convi√©rte en orador</a>
                       </li>
                       <li class="nav-item">
                         <a class="nav-link  selcttickets"  href="./comprartickets.html" >Comprar tickets</a>
                       </li>
                   </ul>
               </div>  
        </div>
   
   </nav>
<div class="listaoradores container">
  <div class="row">
    <div class="col-12 mt-2">
      <button type="button" class="btn btn-success" id="btnGetUsers" onclick="listarOradores()">
        Listar Oradores
      </button>
    </div>
  </div>
  
 <div>
  <div class="row">
    <div class="col-12 mt-1" id="msj">
    
    </div>
    <div class="col-12">
        <div id="users">
          <table class="table">
          <thead>
            <tr>
              <th scope="col"> ID</th>
              <th scope="col"> Nombre</th>
              <th scope="col"> Apellido</th>
              <th scope="col"> Mail</th>
              <th scope="col"> Tema</th>
              <th scope="col">&nbsp;</th>
            </tr>
          </thead>
          <tbody id="usersRows">
          </tbody>
        </table>
        </div>
    </div>
  </div>
 </div>
</div>


  <script>
    function listarOradores(){
          const respuesta = fetch('http://localhost:8080/web-app/api/orador');
          
          respuesta
            .then(reponse => reponse.json())
            .then(data => procesarListado(data))
            .catch(error=> dibujarError(error))
    
        }

        function procesarListado(data){
          const listarOradores = data;
          let rows ='';
          for(let orador of listarOradores){
            console.log(orador);
            rows += ` 
            <tr>
              <th scope="row">${orador.id}</th>
              <td >${orador.nombre}</td>
              <td >${orador.apellido}</td>
              <td >${orador.mail}</td>
              <td >${orador.tema}</td>
              <td>
                <button class="btn btn-info">Editar</button>
                <button class="btn btn-danger">Eliminar</button>
              </tr>
                `
          }
          document.getElementById('usersRows').innerHTML = rows;
        }

  </script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>    
</body>
</html>